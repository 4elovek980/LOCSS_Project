{"version":3,"sources":["webpack:///./src/app/tab1/tab1.module.ts","webpack:///./src/app/tab1/tab1.page.html","webpack:///./src/app/tab1/tab1.page.scss","webpack:///./src/app/tab1/tab1.page.ts"],"names":[],"mappings":"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","file":"tab1-tab1-module.js","sourcesContent":["import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Tab1Page } from './tab1.page';\r\nimport { EmailComposer } from '@ionic-native/email-composer/ngx';\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild([{ path: '', component: Tab1Page }])\r\n  ],\r\n  declarations: [Tab1Page]\r\n})\r\nexport class Tab1PageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>\\r\\n      Add Measurement\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<!-- <ion-content padding class = \\\"background-image\\\"> -->\\r\\n<ion-content>\\r\\n  <form #f=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(f)\\\" >\\r\\n    <ion-list>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Gauge ID</ion-label>\\r\\n        <ion-select  [(ngModel)]=\\\"nearestGaugeIncID\\\" name=\\\"gauge_inc_id\\\" required>\\r\\n          <ion-select-option *ngFor=\\\"let gauge of gauges\\\" value=\\\"{{gauge.id}}\\\">{{gauge.gauge_id + ' - ' + gauge.name + ' - ' + gauge.city}}</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n  \\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Height (centimeters)</ion-label>\\r\\n        <ion-input type=\\\"number\\\" ngModel name=\\\"height\\\" required></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Date</ion-label>\\r\\n        <ion-input type=\\\"date\\\" [(ngModel)]=\\\"date\\\" name=\\\"date\\\"  required></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Time</ion-label>\\r\\n        <ion-input type=\\\"time\\\" [(ngModel)]=\\\"time\\\" name=\\\"time\\\" required></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\" >Is Bubble Level Okay?</ion-label>\\r\\n        <ion-select [(ngModel)]=\\\"isBubbleLevelOkay\\\" name=\\\"is_bubble_level_okay\\\" required>\\r\\n          <ion-select-option value=\\\"Yes\\\" selected>Yes</ion-select-option>\\r\\n          <ion-select-option value=\\\"No\\\">No</ion-select-option>\\r\\n          <ion-select-option value=\\\"I Do Not Know\\\">I Don't Know</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\" >Notes</ion-label>\\r\\n        <ion-input type=\\\"textarea\\\" ngModel name=\\\"notes\\\"></ion-input>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n    <ion-button type=\\\"submit\\\" color=\\\"primary\\\" expand=\\\"block\\\" [disabled] =\\\"!f.valid\\\">Add Measurement</ion-button>\\r\\n   <!-- <ion-button click= \\\"presentAlert();\\\" color=\\\"primary\\\" expand=\\\"block\\\" [disabled] =\\\"!f.valid\\\">Report a problem</ion-button>-->\\r\\n  </form>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n  <ion-button [href]=\\\"'/gauge-list-map'\\\" expand =\\\"block\\\">Map View</ion-button>\\r\\n  <ion-button (click)= \\\"presentAlert()\\\" expand = \\\"block\\\" color=\\\"danger\\\">Report a problem</ion-button>\\r\\n\\r\\n\\r\\n    \\r\\n</ion-content>\\r\\n\"","module.exports = \".welcome-card ion-img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n#map_canvas {\\n  width: 90%;\\n  height: 80%;\\n  border: 1px solid red; }\\n\\n/*\\r\\n  .background-image {\\r\\n    --background: url('dashboard-2.png');\\r\\n}  \\r\\n*/\\n\\n#address {\\n  padding: 10px;\\n  font-size: 18px;\\n  font-weight: bold; }\\n\\n#map {\\n  width: 100%;\\n  height: 100%; }\\n\\n.map-wrapper {\\n  position: relative; }\\n\\n.map-wrapper #map_center {\\n    position: absolute;\\n    z-index: 99;\\n    height: 40px;\\n    width: 40px;\\n    top: 50%;\\n    left: 50%;\\n    margin-left: -21px;\\n    margin-top: -41px; }\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMS9DOlxcVXNlcnNcXG5za2plXFxEb2N1bWVudHNcXEdpdEh1YlxcTE9DU1NfUHJvamVjdC9zcmNcXGFwcFxcdGFiMVxcdGFiMS5wYWdlLnNjc3MiLCJzcmMvYXBwL3RhYjEvdGFiMS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsZ0JBQWdCLEVBQUE7O0FBR2xCO0VBQ0ksVUFBVTtFQUNWLFdBQVc7RUFDWCxxQkFBcUIsRUFBQTs7QUFHekI7Ozs7Q0NFQzs7QURJQztFQUNFLGFBQWE7RUFDYixlQUFlO0VBQ2YsaUJBQWlCLEVBQUE7O0FBR25CO0VBQ0UsV0FBVztFQUNYLFlBQVksRUFBQTs7QUFHZDtFQUNFLGtCQUFrQixFQUFBOztBQURwQjtJQUlJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsWUFBWTtJQUNaLFdBQVc7SUFDWCxRQUFRO0lBQ1IsU0FBUztJQUNULGtCQUFrQjtJQUNsQixpQkFBaUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3RhYjEvdGFiMS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIud2VsY29tZS1jYXJkIGlvbi1pbWcge1xyXG4gIG1heC1oZWlnaHQ6IDM1dmg7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG5cclxuI21hcF9jYW52YXMge1xyXG4gICAgd2lkdGg6IDkwJTtcclxuICAgIGhlaWdodDogODAlO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xyXG4gIH1cclxuXHJcbi8qXHJcbiAgLmJhY2tncm91bmQtaW1hZ2Uge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB1cmwoJ2Rhc2hib2FyZC0yLnBuZycpO1xyXG59ICBcclxuKi9cclxuIFxyXG4gICNhZGRyZXNzIHtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICB9XHJcbiAgIFxyXG4gICNtYXAge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgfVxyXG4gICBcclxuICAubWFwLXdyYXBwZXIge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICBcclxuICAgICNtYXBfY2VudGVyIHtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICB6LWluZGV4OiA5OTtcclxuICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgICB3aWR0aDogNDBweDtcclxuICAgICAgdG9wOiA1MCU7XHJcbiAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgbWFyZ2luLWxlZnQ6IC0yMXB4O1xyXG4gICAgICBtYXJnaW4tdG9wOiAtNDFweDtcclxuICAgIH1cclxuICB9XHJcbiIsIi53ZWxjb21lLWNhcmQgaW9uLWltZyB7XG4gIG1heC1oZWlnaHQ6IDM1dmg7XG4gIG92ZXJmbG93OiBoaWRkZW47IH1cblxuI21hcF9jYW52YXMge1xuICB3aWR0aDogOTAlO1xuICBoZWlnaHQ6IDgwJTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmVkOyB9XG5cbi8qXHJcbiAgLmJhY2tncm91bmQtaW1hZ2Uge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB1cmwoJ2Rhc2hib2FyZC0yLnBuZycpO1xyXG59ICBcclxuKi9cbiNhZGRyZXNzIHtcbiAgcGFkZGluZzogMTBweDtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBmb250LXdlaWdodDogYm9sZDsgfVxuXG4jbWFwIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTsgfVxuXG4ubWFwLXdyYXBwZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7IH1cbiAgLm1hcC13cmFwcGVyICNtYXBfY2VudGVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogOTk7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIHdpZHRoOiA0MHB4O1xuICAgIHRvcDogNTAlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICBtYXJnaW4tbGVmdDogLTIxcHg7XG4gICAgbWFyZ2luLXRvcDogLTQxcHg7IH1cbiJdfQ== */\"","import { Component} from '@angular/core';\r\nimport {Geolocation} from '@ionic-native/geolocation/ngx';\r\nimport { AlertController, ToastController } from '@ionic/angular';\r\nimport { NgForm } from '@angular/forms';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport * as moment from 'moment';\r\nimport { Router } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\nimport { BoundElementProperty } from '@angular/compiler';\r\nimport { NavController } from '@ionic/angular';\r\nimport { EmailComposer } from '@ionic-native/email-composer/ngx';\r\n\r\n\r\n\r\nconst URL = 'http://liquidearthlake.org/json/getalldistances/'+35.9049+'/'+-79.0469;\r\n\r\n@Component({\r\n  selector: 'app-tab1',\r\n  templateUrl: 'tab1.page.html',\r\n  styleUrls: ['tab1.page.scss']\r\n})\r\nexport class Tab1Page{\r\n\r\n\r\n  //Called after the constructor, initializing input properties, and the first call to ngOnChanges.\r\n  //Add 'implements OnInit' to the class.\r\n  isGeoLocationFound:boolean;\r\n  nearestGauge:any;\r\n  nearestGaugeID:string;\r\n  nearestGaugeIncID:number;\r\n  gauges=[];\r\n  date:any;\r\n  time:any;\r\n  isBubbleLevelOkay:string;\r\n  gauge_data:any;\r\n  problem_data:any;\r\n  value = 0 ;\r\n\r\n  constructor (\r\n    private geolocation:Geolocation,\r\n    private alertController:AlertController,\r\n    private http:HttpClient,\r\n    private toastCtrl: ToastController, \r\n    private router:Router,\r\n    private emailcomposer: EmailComposer,\r\n    private navCtrl: NavController\r\n  \r\n    ){}\r\n\r\n  ngOnInit(){\r\n    \r\n    this.getCurrentDateTime()\r\n    this.getAllGauges();\r\n    this.getLocation();\r\n    \r\n    if(!this.isGeoLocationFound){\r\n        //this.presentAlertPrompt();\r\n    }\r\n    else{\r\n    }\r\n    //this.getLocation();\r\n\r\n    \r\n  }\r\n\r\n  async presentAlert(){\r\n\r\n    const alert = await this.alertController.create({\r\n\r\n        header: 'Report a problem',\r\n        message: 'Please enter the Gauge ID and Problem',\r\n        inputs: [\r\n          {\r\n            name: 'gauge_id',\r\n            type: 'text',\r\n            placeholder: 'Gauge ID'\r\n          }, \r\n          {\r\n            name: 'problem',\r\n            type: 'text',\r\n            placeholder: 'Problem'\r\n          }\r\n         \r\n        ],        \r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            role: 'cancel',\r\n            cssClass: 'secondary',\r\n            handler: () => {\r\n              console.log('Confirm Cancel');\r\n            }\r\n          }, {\r\n            text: 'SUBMIT',\r\n            handler: data => {\r\n\r\n                this.gauge_data = data.gauge_id;\r\n                this.problem_data = data.problem;\r\n                console.log(this.gauge_data);\r\n                console.log(this.problem_data);\r\n\r\n\r\n                let email = {\r\n\r\n                    to: 'dipayan5175@gmail.com',\r\n                    subject: 'LOCSS App Issue',\r\n                    body: 'Gauge ID: ' + this.gauge_data + '  Problem: ' + this.problem_data,\r\n                    isHTML: true\r\n              \r\n\r\n                }\r\n                console.log(email);\r\n                console.log('Successfully updated');\r\n\r\n                this.emailcomposer.open(email);\r\n                console.log('Successfully sent');\r\n             \r\n            }\r\n          }\r\n        ]\r\n\r\n    });\r\n\r\n      await alert.present();\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n  getCurrentDateTime(){\r\n      let date = new Date();\r\n      this.date=moment().format('YYYY-MM-DD');\r\n      this.time=moment().format('HH:mm');\r\n      this.isBubbleLevelOkay=\"Yes\";\r\n      console.log(this.date);\r\n      console.log(this.time);\r\n  }\r\n\r\n \r\n\r\n \r\n\r\n  // Get The  Geolocation\r\n  \r\n  getLocation(){\r\n    this.geolocation.getCurrentPosition().then((resp) => {\r\n      this.isGeoLocationFound=true;\r\n      this.http.get('http://liquidearthlake.org/json/getnearestgauge/'+resp.coords.latitude+'/'+resp.coords.longitude)\r\n      .subscribe((data : any) =>\r\n      {\r\n        \r\n          console.log(data);\r\n          this.nearestGauge=data;\r\n          this.nearestGaugeID=data.gauge_id;\r\n          this.nearestGaugeIncID=data.id;\r\n          console.log(this.nearestGaugeIncID);\r\n        \r\n      },\r\n      (error : any) =>\r\n      {\r\n        console.log(error);\r\n      });\r\n      console.log(resp.coords.latitude);\r\n      console.log(resp.coords.longitude);\r\n      // resp.coords.latitude\r\n      // resp.coords.longitude\r\n     }).catch((error) => {\r\n       this.isGeoLocationFound=false;\r\n       console.log('Error getting location', error);\r\n     });\r\n\r\n  }\r\n\r\n  // Present the Add Gauge prompt when geolocation is not found\r\n  /*async presentAlertPrompt() {\r\n    const alert = await this.alertController.create({\r\n      header: 'Please Enter the Gauge ID',\r\n      inputs: [\r\n        {\r\n          name: 'gauge_id',\r\n          type: 'text',\r\n          placeholder: 'Gauge ID'\r\n        }\r\n       \r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {\r\n            console.log('Confirm Cancel');\r\n          }\r\n        }, {\r\n          text: 'SUBMIT',\r\n          handler: data => {\r\n            this.nearestGaugeID=data.gauge_id;\r\n            console.log(this.nearestGaugeID);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  \r\n    await alert.present();\r\n  }\r\n*/\r\n  getAllGauges(){\r\n    this.http.get('http://liquidearthlake.org/json/gauges')\r\n    .subscribe((data : any) =>\r\n    {\r\n      this.gauges=data;\r\n      console.log(data);\r\n      \r\n    },\r\n    (error : any) =>\r\n    {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n  async onSubmit(form:NgForm){\r\n\r\n    let toast = await this.toastCtrl.create({\r\n      message: 'Data submitted successfuly',\r\n      duration: 2000,\r\n      position: \"bottom\"\r\n    });\r\n\r\n    toast.present();\r\n\r\n    this.nearestGauge= this.gauges.filter(m => m.id == form.value['gauge_inc_id']);\r\n    console.log(form);\r\n    this.http.post(\"http://liquidearthlake.org/json/reading/store\", form.value)\r\n    .subscribe(data => {\r\n      console.log(data['_body']);\r\n     }, error => {\r\n      console.log(error);\r\n    });\r\n    console.log(this.gauges);\r\n    \r\n    console.log(this.nearestGauge[0].gauge_id);\r\n    this.router.navigateByUrl('tabs/tab3/'+ form.value['gauge_inc_id']+'/'+ this.nearestGauge[0].gauge_id);\r\n  }\r\n\r\n \r\n}\r\n"],"sourceRoot":""}