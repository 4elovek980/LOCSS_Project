{"version":3,"sources":["webpack:///./src/app/gauge-list-map/gauge-list-map.module.ts","webpack:///./src/app/gauge-list-map/gauge-list-map.page.html","webpack:///./src/app/gauge-list-map/gauge-list-map.page.scss","webpack:///./src/app/gauge-list-map/gauge-list-map.page.ts"],"names":[],"mappings":"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","file":"gauge-list-map-gauge-list-map-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { GaugeListMapPage } from './gauge-list-map.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: GaugeListMapPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [GaugeListMapPage]\r\n})\r\nexport class GaugeListMapPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  \\r\\n  <ion-toolbar>\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n          <ion-back-button text=\\\"Back\\\" defaultHref=\\\"/tabs/tab2\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n    <ion-title>\\r\\n      List of Gauges\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  \\r\\n  \\r\\n<div #map id=\\\"map\\\"></div> \\r\\n</ion-content>\\r\\n\\r\\n\"","module.exports = \".welcome-card ion-img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n#map_canvas {\\n  width: 90%;\\n  height: 80%;\\n  border: 1px solid red; }\\n\\n#address {\\n  padding: 10px;\\n  font-size: 18px;\\n  font-weight: bold; }\\n\\n#map {\\n  width: 100%;\\n  height: 100%; }\\n\\n.map-wrapper {\\n  position: relative; }\\n\\n.map-wrapper #map_center {\\n    position: absolute;\\n    z-index: 99;\\n    height: 40px;\\n    width: 40px;\\n    top: 50%;\\n    left: 50%;\\n    margin-left: -21px;\\n    margin-top: -41px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ2F1Z2UtbGlzdC1tYXAvQzpcXFVzZXJzXFxuc2tqZVxcRG9jdW1lbnRzXFxHaXRIdWJcXExPQ1NTX1Byb2plY3Qvc3JjXFxhcHBcXGdhdWdlLWxpc3QtbWFwXFxnYXVnZS1saXN0LW1hcC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBZ0I7RUFDaEIsZ0JBQWdCLEVBQUE7O0FBR2xCO0VBQ0ksVUFBVTtFQUNWLFdBQVc7RUFDWCxxQkFBcUIsRUFBQTs7QUFJdkI7RUFDRSxhQUFhO0VBQ2IsZUFBZTtFQUNmLGlCQUFpQixFQUFBOztBQUduQjtFQUNFLFdBQVc7RUFDWCxZQUFZLEVBQUE7O0FBR2Q7RUFDRSxrQkFBa0IsRUFBQTs7QUFEcEI7SUFJSSxrQkFBa0I7SUFDbEIsV0FBVztJQUNYLFlBQVk7SUFDWixXQUFXO0lBQ1gsUUFBUTtJQUNSLFNBQVM7SUFDVCxrQkFBa0I7SUFDbEIsaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9nYXVnZS1saXN0LW1hcC9nYXVnZS1saXN0LW1hcC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIud2VsY29tZS1jYXJkIGlvbi1pbWcge1xyXG4gICAgbWF4LWhlaWdodDogMzV2aDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgfVxyXG4gIFxyXG4gICNtYXBfY2FudmFzIHtcclxuICAgICAgd2lkdGg6IDkwJTtcclxuICAgICAgaGVpZ2h0OiA4MCU7XHJcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcclxuICAgIH1cclxuICAgICBcclxuICAgICBcclxuICAgICNhZGRyZXNzIHtcclxuICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIH1cclxuICAgICBcclxuICAgICNtYXAge1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgfVxyXG4gICAgIFxyXG4gICAgLm1hcC13cmFwcGVyIHtcclxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgIFxyXG4gICAgICAjbWFwX2NlbnRlciB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHotaW5kZXg6IDk5O1xyXG4gICAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgICB3aWR0aDogNDBweDtcclxuICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IC0yMXB4O1xyXG4gICAgICAgIG1hcmdpbi10b3A6IC00MXB4O1xyXG4gICAgICB9XHJcbiAgICB9Il19 */\"","import { Component, ViewChild, ElementRef,NgZone } from '@angular/core';\r\nimport { Platform, NavController, LoadingController, ToastController} from '@ionic/angular';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport {Router} from '@angular/router';\r\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\r\n\r\n\r\n\r\ndeclare var google;\r\n\r\n@Component({\r\n  selector: 'app-gauge-list-map',\r\n  templateUrl: './gauge-list-map.page.html',\r\n  styleUrls: ['./gauge-list-map.page.scss'],\r\n})\r\nexport class GaugeListMapPage{\r\n\r\n  @ViewChild('map') mapElement: ElementRef;\r\n    map: any;\r\n  //lat:any;\r\n  //long:any;\r\n\r\n  // Newly created variables by Dip \r\n  //resp:any;\r\n  isGeoLocationFound:boolean;\r\n  location = {lat: null, lng: null};\r\n  mapOptions: any;\r\n  \r\n  gauge_data:any;\r\n  error:any;\r\n  loading:any;\r\n  marker:any;\r\n  \r\n\r\nconstructor(public loadingcontrl: LoadingController, private splash: SplashScreen, public geolocation: Geolocation, private platform: Platform,private http: HttpClient, public navctrl: NavController, private router: Router) {\r\n\r\n    \r\n}\r\n\r\nngOnInit() {\r\n  console.log(\"Ionview\");\r\n  //this.splash.show();\r\n  \r\n  this.addMarkerToMap();\r\n  this.locate();\r\n  \r\n \r\n  //this.loading.dismissAll();\r\n  this.splash.hide();\r\n  \r\n}\r\n\r\n\r\nlocate(){\r\n\r\n  this.geolocation.getCurrentPosition().then((resp) => {  \r\n    \r\n    this.isGeoLocationFound = true; \r\n    console.log('Current Position: ', resp.coords.latitude, resp.coords.longitude);\r\n  //  let latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\r\n    \r\n    this.location.lat = resp.coords.latitude;\r\n    this.location.lng = resp.coords.longitude;\r\n\r\n    console.log(this.location);\r\n    this.mapOptions = {\r\n      \r\n    \r\n      center: this.location,\r\n      zoom:   8,\r\n      mapTypeControl: false,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n      eneableHighAccuracy: true\r\n    }\r\n  \r\n      this.map = new google.maps.Map(this.mapElement.nativeElement, this.mapOptions);\r\n      this.addMarkerToMap();  \r\n  \r\n    \r\n  }).catch((error) => {\r\n\r\n      this.isGeoLocationFound = false;\r\n      console.log('Error getting location', error);\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n// Main code: Written by Arman\r\n/*\r\nlocate(){\r\n\r\n\r\n        \r\n      //console.log(resp.coords.latitude);  \r\n     //let latLng = new google.maps.LatLng(this.resp.coords.latitude, this.resp.coords.longitude);\r\n     //console.log(latLng);\r\n     // let latLng = new google.maps.LatLng(36.183670857, -85.5016);\r\n      //console.log(latLng);\r\n      let mapOptions = {\r\n        \r\n       // center:latLng,\r\n       center: {lat: 35.1085, lng:-77.0441},\r\n        zoom: 8,\r\n        mapTypeId: google.maps.MapTypeId.ROADMAP\r\n      }\r\n    \r\n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions); \r\n}\r\n*/\r\n\r\naddMarkerToMap(){\r\n  this.http.get('http://liquidearthlake.org/json/gauges')\r\n      .subscribe((gauges : any) =>\r\n      {\r\n        \r\n        console.log(gauges);\r\n        for(var i=0;i<gauges.length;i++){\r\n          var label = gauges[i].gauge_id+\":\"+gauges[i].name;\r\n          this.addMarker(Number(gauges[i].latitude),Number(gauges[i].longitude),label,gauges[i].id,gauges[i].name);\r\n          //console.log(\"success\",label);\r\n        }\r\n         \r\n         \r\n      },\r\n      (error : any) =>\r\n      {\r\n         console.log(error);\r\n      });\r\n}\r\n\r\naddMarker(lat,lng,label,id,name) {\r\n  var coords = {lat: lat, lng: lng};\r\n  console.log(coords);\r\n\r\n  var marker = new google.maps.Marker(\r\n      {\r\n          position: coords,\r\n          map: this.map\r\n\r\n      }\r\n  );\r\n  var infoWindow = new google.maps.InfoWindow({\r\n      content: label\r\n  });\r\n  /*marker.addListener(\"click\",function () {\r\n      infoWindow.open(this.map,marker);\r\n  });\r\n  marker.addListener(\"mouseout\",function () {\r\n      infoWindow.close();\r\n  });*/\r\n  console.log('tabs/tab3/'+id+'/'+name);\r\n  marker.addListener('click', ()=> {\r\n    this.router.navigateByUrl('tabs/tab3/'+id+'/'+name);\r\n\r\n  });\r\n\r\n  \r\n\r\n}\r\n\r\n}"],"sourceRoot":""}